"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[753],{6187:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r,a=n(2791),c=n(6871),s=n(168),o=n(6444).ZP.p(r||(r=(0,s.Z)(["\n  padding-top: 5px;\n  color: #329fd6;\n"]))),u=n(850),i=n(184),f=function(){var e=(0,c.UO)().movieId,t=(0,c.TH)().pathname,n=(0,u.Z)(),r=n.reviews,s=n.errorMessage,f=n.setApiMoveDetails;return(0,a.useEffect)((function(){return f(t,e)}),[t,e,f]),(0,i.jsxs)(i.Fragment,{children:[s.length>0&&(0,i.jsx)(o,{children:s}),(0,i.jsx)("ul",{children:r?r.map((function(e){return(0,i.jsxs)("li",{children:[(0,i.jsxs)("h3",{children:["Author: ",e.author]}),(0,i.jsxs)("p",{children:['"',e.content,'"']})]},e.id)})):(0,i.jsx)("li",{children:"We don't have any reviews for this movie"})})]})}},850:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(8152),a=n(2791),c=n(5861),s=n(7757),o=n.n(s),u=n(4569),i=n.n(u),f="aec86298015b623e3598e86276b5a670",l="https://api.themoviedb.org/3",p=function(e){if(200===e.status&&0!==e.data.total_results)return{data:e.data,BasicURL:"https://image.tmdb.org/t/p/original"}},h=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i().get("".concat(l,"/trending/movie/day?api_key=").concat(f)).then((function(e){return p(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,c.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i().get("".concat(l,"/movie/").concat(t,"?api_key=").concat(f,"&language=en-US")).then((function(e){return p(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,c.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i().get("".concat(l,"/movie/").concat(t,"/credits?api_key=").concat(f,"&language=en-US")).then((function(e){return p(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i().get("".concat(l,"/movie/").concat(t,"/reviews?api_key=").concat(f,"&language=en-US&page=1")).then((function(e){return p(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],c=t[1],s=(0,a.useState)(""),o=(0,r.Z)(s,2),u=o[0],i=o[1],f=(0,a.useState)(""),l=(0,r.Z)(f,2),p=l[0],m=l[1],w=(0,a.useState)(""),Z=(0,r.Z)(w,2),k=Z[0],_=Z[1],b=(0,a.useState)(0),S=(0,r.Z)(b,2),x=S[0],y=S[1],U=(0,a.useState)(""),j=(0,r.Z)(U,2),M=j[0],A=j[1],R=(0,a.useState)([]),B=(0,r.Z)(R,2),C=B[0],D=B[1],L=(0,a.useState)(""),q=(0,r.Z)(L,2),E=q[0],F=q[1],H=(0,a.useState)([]),I=(0,r.Z)(H,2),O=I[0],P=I[1],T=(0,a.useState)(),W=(0,r.Z)(T,2),z=W[0],G=W[1],J=(0,a.useState)(""),K=(0,r.Z)(J,2),N=K[0],Q=K[1],V=function(){h().then((function(e){var t=e.data;c(t.results)})).catch((function(e){console.log(e.message),Q("Request error !!!")}))},X=function(e){v(e).then((function(e){var t=e.data,n=e.BasicURL;i(n),m(t.original_title),_(t.release_date.slice(0,4)),y(t.vote_average),A(t.overview),D(t.genres),F(t.poster_path)})).catch((function(e){return console.log(e.message),e.message}))},Y=function(e){g(e).then((function(e){var t=e.data,n=e.BasicURL;P(t.cast),i(n)})).catch((function(e){return console.log(e.message),e.message}))},$=function(e){d(e).then((function(e){var t=e.data;G(t.results)})).catch((function(e){return console.log(e.message),e.message}))},ee=(0,a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(e){case"/":V();break;case"/movies/".concat(t):X(t);break;case"/movies/".concat(t,"/cast"):Y(t);break;case"/movies/".concat(t,"/reviews"):$(t);break;default:console.log("hook error")}}),[]);return{errorMessage:N,trendsMovies:n,basicUrl:u,title:p,releaseDate:k,rating:x,overview:M,genres:C,poster:E,profileActors:O,reviews:z,setApiMoveDetails:ee}}}}]);
//# sourceMappingURL=Reviews.5060e0a4.chunk.js.map