(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[268],{850:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(885),a=n(2791),o=n(5861),c=n(7757),s=n.n(c),i=n(4569),u=n.n(i),p="aec86298015b623e3598e86276b5a670",f="https://api.themoviedb.org/3",l=function(e){if(200===e.status&&0!==e.data.total_results)return{data:e.data,BasicURL:"https://image.tmdb.org/t/p/original"}},h=function(){var e=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().get("".concat(f,"/trending/movie/day?api_key=").concat(p)).then((function(e){return l(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().get("".concat(f,"/movie/").concat(t,"?api_key=").concat(p,"&language=en-US")).then((function(e){return l(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().get("".concat(f,"/movie/").concat(t,"/credits?api_key=").concat(p,"&language=en-US")).then((function(e){return l(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().get("".concat(f,"/movie/").concat(t,"/reviews?api_key=").concat(p,"&language=en-US&page=1")).then((function(e){return l(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().get("".concat(f,"/search/movie?api_key=").concat(p,"&query=").concat(t,"&language=en-US&page=1&include_adult=false")).then((function(e){return l(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],o=t[1],c=(0,a.useState)(""),s=(0,r.Z)(c,2),i=s[0],u=s[1],p=(0,a.useState)(""),f=(0,r.Z)(p,2),l=f[0],y=f[1],_=(0,a.useState)(""),b=(0,r.Z)(_,2),k=b[0],Z=b[1],w=(0,a.useState)(0),x=(0,r.Z)(w,2),S=x[0],T=x[1],j=(0,a.useState)(""),P=(0,r.Z)(j,2),U=P[0],R=P[1],O=(0,a.useState)([]),D=(0,r.Z)(O,2),q=D[0],C=D[1],M=(0,a.useState)(""),E=(0,r.Z)(M,2),L=E[0],B=E[1],I=(0,a.useState)([]),A=(0,r.Z)(I,2),W=A[0],H=A[1],F=(0,a.useState)(),N=(0,r.Z)(F,2),V=N[0],Y=N[1],z=(0,a.useState)([]),G=(0,r.Z)(z,2),J=G[0],K=G[1],Q=(0,a.useState)(""),X=(0,r.Z)(Q,2),$=X[0],ee=X[1],te=(0,a.useCallback)((function(e){var t=e.locationPathname,n=e.movieId,r=void 0===n?0:n,a=e.query,c=void 0===a?"":a;switch(t){case"/":h().then((function(e){var t=e.data;o(t.results)})).catch((function(e){console.log(e.message),ee("Request error !!!")}));break;case"/movies/".concat(r):!function(e){v(e).then((function(e){var t=e.data,n=e.BasicURL;u(n),y(t.original_title),Z(t.release_date.slice(0,4)),T(t.vote_average),R(t.overview),C(t.genres),B(t.poster_path)})).catch((function(e){return console.log(e.message),e.message}))}(r);break;case"/movies/".concat(r,"/cast"):!function(e){g(e).then((function(e){var t=e.data,n=e.BasicURL;H(t.cast),u(n)})).catch((function(e){return console.log(e.message),e.message}))}(r);break;case"/movies/".concat(r,"/reviews"):!function(e){d(e).then((function(e){var t=e.data;Y(t.results)})).catch((function(e){return console.log(e.message),e.message}))}(r);break;case"/movies?query=".concat(c):!function(e){m(e).then((function(e){var t=e.data;K(t.results),ee("")})).catch((function(t){console.log(t.message),K([]),ee("By request ".concat(e," nothing was found."))}))}(c);break;default:console.log("hook error")}}),[]);return{errorMessage:$,trendsMovies:n,basicUrl:i,title:l,releaseDate:k,rating:S,overview:U,genres:q,poster:L,profileActors:W,reviews:V,searchMoviews:J,setApiMoveDetails:te}}},2767:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r,a,o,c=n(2791),s=n(6871),i=n(850),u=n(168),p=n(6444),f=p.ZP.h2(r||(r=(0,u.Z)(["\n  //padding-left: 10px;\n"]))),l=p.ZP.ul(a||(a=(0,u.Z)(["\n  padding-bottom: 10px;\n"]))),h=p.ZP.p(o||(o=(0,u.Z)(["\n  padding-top: 5px;\n  color: #329fd6;\n"]))),v=n(501),g=n(2007),d=n.n(g),m=n(184),y=function(e){var t=e.movieDetails;return(0,m.jsx)("li",{children:(0,m.jsx)(v.rU,{to:"/movies/".concat(t.id),children:t.title})})};y.prototype={movieDetails:d().array.isRequired};var _=y,b=function(e){var t=e.title,n=(0,s.TH)().pathname,r=(0,i.Z)(),a=r.errorMessage,o=r.trendsMovies,u=r.setApiMoveDetails;return(0,c.useEffect)((function(){u({locationPathname:n})}),[n,u]),(0,m.jsxs)("main",{children:[(0,m.jsx)(f,{children:t}),0===a.length&&0===o.length&&(0,m.jsx)(h,{children:"Loading ..."}),o.length>0&&(0,m.jsx)(l,{children:o.map((function(e){return(0,m.jsx)(_,{movieDetails:e},e.id)}))}),a.length>0&&(0,m.jsx)(h,{children:a})]})},k=function(){return(0,m.jsx)(b,{title:"Trending today"})}},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,c){if(c!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=Home.8f1fa2d1.chunk.js.map